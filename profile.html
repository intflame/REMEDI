<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Profile - REMEDI</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">REMEDI</a>
    </div>
  </nav>

  <div class="container my-5">
    <div class="card shadow p-4">
      <div class="text-center mb-4">
        <img src="https://via.placeholder.com/120" class="rounded-circle mb-3" alt="Profile Picture">
        <h3 class="fw-bold">User Name</h3>
        <p class="text-muted">user@example.com</p>
      </div>

      <!-- Tabs -->
      <ul class="nav nav-tabs mb-3" id="profileTabs" role="tablist">
        <li class="nav-item">
          <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#details">Details</button>
        </li>
        <li class="nav-item">
          <button class="nav-link" data-bs-toggle="tab" data-bs-target="#points">Points</button>
        </li>
        <li class="nav-item">
          <button class="nav-link" data-bs-toggle="tab" data-bs-target="#settings">Settings</button>
        </li>
      </ul>

      <div class="tab-content">
        <!-- Details -->
        <div class="tab-pane fade show active" id="details">
          <div class="d-flex justify-content-between">
            <p><strong>Name:</strong> User Name</p>
          </div>
          <div class="d-flex justify-content-between">
            <p><strong>Email:</strong> user@example.com</p>
          </div>
          <div class="d-flex justify-content-between align-items-center">
            <p><strong>Role:</strong> User</p>
            <!-- Points + Badge -->
            <span id="pointsBadge" class="badge bg-secondary fs-6">Points: 0</span>
          </div>
          <div class="text-end mt-2">
            <span id="tierBadge" class="badge bg-dark">Bronze ü•â</span>
          </div>
        </div>

        <!-- Points -->
        <div class="tab-pane fade" id="points">
          <h5>Your Points</h5>
          <div class="progress mb-3">
            <div id="pointsProgress" class="progress-bar bg-success" style="width:0%">0/100</div>
          </div>
          <p id="progressText">You are on your way to Bronze ü•â!</p>

          <hr>
          <h6>üèÖ Badge Levels</h6>
          <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Bronze ü•â <span class="badge bg-warning text-dark">0‚Äì99</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Silver ü•à <span class="badge bg-secondary">100‚Äì199</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Gold ü•á <span class="badge bg-warning text-dark">200‚Äì299</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Platinum üíé <span class="badge bg-info text-dark">300‚Äì499</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Diamond üî∑ <span class="badge bg-primary">500+</span>
            </li>
          </ul>
        </div>

        <!-- Settings -->
        <div class="tab-pane fade" id="settings">
          <form>
            <div class="mb-3"><label>Name</label><input type="text" class="form-control" value="User Name"></div>
            <div class="mb-3"><label>Email</label><input type="email" class="form-control" value="user@example.com"></div>
            <button type="submit" class="btn btn-primary">Update</button>
          </form>
        </div>
      </div>

      <!-- Logout Button -->
      <div class="text-center mt-4">
        <button class="btn btn-danger" onclick="logout()">Logout</button>
      </div>
    </div>
  </div>

  <script>
    // Example: User has 160 points
    let userPoints = 160;

    function updateBadges(points){
      let badge=document.getElementById("tierBadge");
      let pointsBadge=document.getElementById("pointsBadge");
      let progress=document.getElementById("pointsProgress");
      let progressText=document.getElementById("progressText");

      // Update points text
      pointsBadge.textContent = "Points: " + points;

      let tier="";
      let color="bg-secondary";
      if(points < 100){ tier="Bronze ü•â"; color="bg-warning"; }
      else if(points < 200){ tier="Silver ü•à"; color="bg-secondary"; }
      else if(points < 300){ tier="Gold ü•á"; color="bg-warning"; }
      else if(points < 500){ tier="Platinum üíé"; color="bg-info"; }
      else { tier="Diamond üî∑"; color="bg-primary"; }

      badge.textContent=tier;
      badge.className="badge "+color+" fs-6";

      // Progress Bar
      let nextTarget=100;
      if(points<100) nextTarget=100;
      else if(points<200) nextTarget=200;
      else if(points<300) nextTarget=300;
      else if(points<500) nextTarget=500;
      else nextTarget=points; // Diamond reached

      let percent=Math.min((points/nextTarget)*100,100);
      progress.style.width=percent+"%";
      progress.textContent=points+"/"+nextTarget;

      progressText.textContent="You are on your way to "+tier+"!";
    }

    function logout(){
      alert("You have been logged out!");
      window.location.href = "login.html";
    }

    // Initialize on load
    updateBadges(userPoints);
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
